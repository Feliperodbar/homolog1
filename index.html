<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Homolog — Criador de Passos</title>
  <link rel="stylesheet" href="./styles.css" />

</head>

<body>
  <a href="#main" class="skip-link">Ir para o conteudo</a>
  <header class="app-header">
    <div class="brand">
      <div class="brand-text">
        <h1>Homolog</h1>
        <p class="tagline">Energia sustentável & tecnologia</p>
      </div>
    </div>
    <div class="actions">
      <button id="startCaptureBtn" class="primary">Iniciar captura</button>
      <button id="stopCaptureBtn" class="secondary">Parar captura</button>
      <button id="addStepBtn" class="accent">Adicionar passo</button>
      <div class="mode-toggle" role="group" aria-label="Modo de captura">
        <button id="modeClickBtn" class="secondary icon-only mode-btn active" aria-pressed="true"
          aria-label="Modo clicar para capturar" title="Modo clicar para capturar">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-mouse-pointer">
            <path d="M3 3l7 17 2-7 7-2-16-8z"></path>
            <path d="M13 13l6 6"></path>
          </svg>
        </button>
        <button id="modeSelectBtn" class="secondary icon-only mode-btn" aria-pressed="false"
          aria-label="Modo seleção de área" title="Modo seleção de área">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-square">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          </svg>
        </button>

      </div>
      <button id="toggleExpandBtn" class="secondary icon-only" aria-controls="videoWrapper" aria-expanded="false"
        aria-label="">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="feather feather-maximize">
          <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3">
          </path>
        </svg>
      </button>
      <button id="downloadHtmlBtn" class="secondary icon-only" aria-label="Baixar como HTML">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="feather feather-code">
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
      </button>
      <button id="downloadDocxBtn" class="secondary icon-only" aria-label="Baixar como DOCX">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="12" x2="8" y2="12"></line>
          <line x1="16" y1="16" x2="8" y2="16"></line>
        </svg>
      </button>


      <span id="statusText" class="status-pill" role="status" aria-live="polite">Pronto</span>
      <button id="clearStepsBtn" class="danger">Limpar passos</button>
    </div>
  </header>

  <main id="main" class="layout">
    <section class="capture">
      <div id="videoWrapper" class="video-wrapper">
        <video id="screenVideo" autoplay muted playsinline></video>
        <div id="videoOverlay" class="overlay hidden">Captura em andamento…</div>
      </div>
      <p class="hint">
        Dica: após iniciar, clique sobre o vídeo para criar um passo com realce no ponteiro (ou use "Adicionar passo").
      </p>
    </section>

    <div class="sidebar">
      <section class="project-data">
        <h2>Dados do Projeto</h2>
        <div class="actions">
          <button id="clearProjectBtn" class="secondary icon-only" aria-label="Limpar campos de Dados do Projeto"
            title="Limpar campos">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="feather feather-eraser">
              <path d="M16 3l5 5-9 9H7L2 12 11 3z"></path>
              <path d="M7 17h6"></path>
            </svg>
          </button>
        </div>
        <div class="project-fields">
          <div class="field-row">
            <div class="field-group">
              <label for="projectName">Projeto</label>
              <input type="text" id="projectName" placeholder="Nome do projeto" />
            </div>
            <div class="field-group">
              <label for="frontName">Frente</label>
              <input type="text" id="frontName" placeholder="Nome da frente" />
            </div>
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="distributorName">Distribuidora</label>
              <input type="text" id="distributorName" placeholder="Nome da distribuidora" />
            </div>
            <div class="field-group">
              <label for="responsible">Responsável</label>
              <input type="text" id="responsible" placeholder="Nome do responsável" />
            </div>
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="projectDate">Data</label>
              <input type="date" id="projectDate" />
            </div>
            <div class="field-group">
              <label for="expectedResult">Resultado Esperado</label>
              <input type="text" id="expectedResult" placeholder="Descreva o resultado esperado" />
            </div>
          </div>
        </div>
      </section>

      <section class="steps">
        <h2>Passos</h2>
        <div id="stepsList" class="steps-list"></div>
      </section>
    </div>
  </main>

  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>
  <div id="imageModal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
    <img id="modalImage" alt="Screenshot" tabindex="0" />
  </div>

  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/docx@9.5.1/build/index.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/html-docx-js@0.3.1/dist/html-docx.js" defer></script>
  <script type="module" src="./app.js"></script>
</body>

</html>